!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=window.indexedDB.open("mockDraft",1);function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}console.log("test");var s,l,m,f,g,p,y,S=document.querySelector('[data-js="playerTable"]'),v=document.querySelector('[data-js="managerContainer"]'),b=document.querySelector('[data-js="managerInputContainer"]'),j=document.querySelector('[data-js="settings"]'),h=j.querySelector('[data-js="manNameBtn"]'),q=j.querySelector('[data-js="resetBtn"]'),x=["qb","rb","rb","wr","wr","te","flex","dst","k"],T=document.querySelector('[data-js="roundTracker"]'),w=document.querySelector('[data-js="managerTracker"]'),M=j.querySelector('[data-js="numRounds"]'),I=document.querySelector('[data-js="startDraft"]'),A=new XMLHttpRequest;A.open("GET","src/draft_data.json"),A.responseType="json",A.send(),A.onload=function(){p=A.response},window.onload=function(){var e=n;e.onerror=function(){},e.onsuccess=function(){g=e.result},A.onupgradeneeded=function(e){var t=(g=e.target.result).createObjectStore("playerStore",{keyPath:"id",autoIncrement:!0}),r=g.createObjectStore("managerStore",{keyPath:"id",autoIncrement:!0}),n=g.createObjectStore("settingsStore",{keyPath:"id",autoIncrement:!0});t.createIndex("name","name",{unique:!1}),t.createIndex("drafted","drafted",{unique:!1}),t.createIndex("roundDrafted","roundDrafted",{unique:!1}),t.createIndex("manager","manager",{unique:!1}),n.createIndex("numRounds","numRounds",{unique:!1}),n.createIndex("currRound","currRound",{unique:!1}),n.createIndex("currManager","currManager",{unique:!1}),n.createIndex("numManagers","numManagers",{unique:!1}),n.createIndex("tracker","tracker",{unique:!1}),r.createIndex("managerNum","managerNum",{unique:!0})},h.addEventListener("click",(function(){s=j.querySelector("select").value;for(var e=0;e<s;e++){var t=document.createElement("input");b.appendChild(t),t.setAttribute("placeholder","Manager ".concat(e)),t.setAttribute("data-manager",e),t.setAttribute("data-js","managerName")}l=document.querySelectorAll('[data-js="managerName"]')})),q.addEventListener("click",(function(){N()})),I.onsubmit=function(e){e.preventDefault();var t=g.transaction(["playerStore"],"readwrite"),r=g.transaction(["managerStore"],"readwrite"),n=g.transaction(["settingsStore"],"readwrite"),a=t.objectStore("playerStore"),c=r.objectStore("managerStore"),i=n.objectStore("settingsStore"),d={numRounds:M.value,currRound:1,currManager:0,numManagers:s,tracker:0};settingsRequest=i.add(d);var m,f=u(p);try{for(f.s();!(m=f.n()).done;){var y=m.value;a.add(y)}}catch(e){f.e(e)}finally{f.f()}var S,v=u(l.entries());try{for(v.s();!(S=v.n()).done;){var b=o(S.value,2),j=b[0],h={managerName:b[1].value,managerNum:j,playerName:[],playerPos:[],playerTeam:[]};c.add(h)}}catch(e){v.e(e)}finally{v.f()}a.openCursor().onsuccess=function(e){var t=e.target.result;if(t){var r=t.value;r.manager=99,r.drafted=0,r.roundDrafted=0,t.update(r),t.continue()}},t.oncomplete=function(){}};var t=function(){g.transaction(["playerStore"],"readwrite").objectStore("playerStore").openCursor().onsuccess=function(e){var t=e.target.result;if(t){var r=document.createElement("tr"),n=t.value;markup="<tr data-playerKey=".concat(t.value.id," data-manager=").concat(t.value.manager,">\n                            <td>").concat(t.value.adp,"</td>\n                            <td>").concat(t.value.name,"</td>\n                            <td>").concat(t.value.pos,"</td>\n                            <td>").concat(t.value.team,"</td>\n                            <button data-playerKey=").concat(t.value.id," data-manager=").concat(t.value.manager," data-js='draftBtn'>DRAFT</button>\n                        </tr>");var o=a(document.querySelectorAll('[data-js="draftBtn"]'));t.update(n),r.innerHTML=markup,S.appendChild(r),t.continue(),o.forEach((function(e){return e.addEventListener("click",P(c,1e3))}))}}},r=function(){g.transaction(["settingsStore"],"readwrite").objectStore("settingsStore").index("tracker").get(0).onsuccess=function(e){var t=e.target.result;f=t.currRound,m=t.currManager,T.innerText=f;var r,n=g.transaction(["managerStore"],"readwrite").objectStore("managerStore").index("managerNum").get(m);y=parseInt(t.numRounds),n.onerror=function(e){},n.onsuccess=function(e){var t=e.target.result;r=t.managerName,w.innerText=""===r?"Manager ".concat(m):r}}},c=function(e){var t=g.transaction(["playerStore"],"readwrite").objectStore("playerStore"),r=e.target.getAttribute("data-playerkey"),n=t.get(r);n.onerror=function(e){},n.onsuccess=function(e){var r=e.target.result;managerTransaction=g.transaction(["managerStore"],"readwrite"),managerStore=managerTransaction.objectStore("managerStore"),managerIndex=managerStore.index("managerNum"),console.log(m),managerRequest=managerIndex.get(m),settingsTransaction=g.transaction(["settingsStore"],"readwrite"),settingsStore=settingsTransaction.objectStore("settingsStore"),settingsTrackerIndex=settingsStore.index("tracker"),settingsRequest=settingsTrackerIndex.get(0),r.name,r.pos,r.manager=m,r.drafted=1,r.roundDrafted=f;var n=t.put(r);n.onerror=function(e){},n.onsuccess=function(e){document.querySelector('[data-js="playerTracker"]').innerText="".concat(m.innerText," drafted ").concat(d.name)},k(managerRequest,managerStore),R(settingsRequest,settingsStore),i()}};function i(){g.transaction(["managerStore"],"readwrite").objectStore("managerStore").openCursor().onsuccess=function(e){var t=e.target.result;if(t){document.querySelectorAll("[data-pos][data-manager]"),t.value.playerPos;t.continue()}}}var R=function(e,t){e.onerror=function(e){},e.onsuccess=function(e){var r,n=e.target.result,a=parseInt(n.numManagers)-1;(n.currManager===a||0===n.currManager&&1!==n.currRound)&&(n.currRound=n.currRound+=1),C(n.currRound)?(n.currManager=n.currManager-=1,r=t.put(n)):(n.currManager=n.currManager+=1,r=t.put(n)),r.onerror=function(e){},r.onsuccess=function(e){}}},k=function(e,t){e.onerror=function(e){},e.onsuccess=function(e){var r=e.target.result;r.playerName.push(playerName),r.playerPos.push(playerPos.toLowerCase());var n=t.put(r);n.onerror=function(e){console.log("Draft Player Manager Request Update Success")},n.onsuccess=function(e){console.log("Draft Player Manager Request Update Success")}}},E=function(){r(),t(),g.transaction("managerStore").objectStore("managerStore").openCursor().onsuccess=function(e){var t=e.target.result;if(t){var r=document.createElement("article"),n=document.createElement("table"),a=document.createElement("th");r.appendChild(n),n.appendChild(a),v.appendChild(r),n.setAttribute("data-manager",t.value.managerNum),O(n,t.value),D(t.value,a),t.continue()}},i()},N=function(){(function(){var e=g.transaction(["managerStore"],"readwrite"),t=g.transaction(["playerStore"],"readwrite"),r=g.transaction(["settingsStore"],"readwrite"),n=e.objectStore("managerStore"),a=t.objectStore("playerStore"),o=r.objectStore("settingsStore");managerRequest=n.clear(),playerRequest=a.clear(),settingsRequest=o.clear(),S.innerHTML="",v.innerHTML="",b.innerHTML="",w.innerHTML="",T.innerHTML=""})(),E()},C=function(e){return e%2==0},D=function(e,t){""==e.managerName?t.innerText="Manager ".concat(e.managerNum):t.innerText=e.managerName},O=function(e,t){for(var r=0;r<y;r++){var n=document.createElement("tr");e.appendChild(n);for(var a=0;a<2;a++)draftData=document.createElement("td"),n.appendChild(draftData),draftData.setAttribute("data-td",a);r>8?(n.firstChild.innerText="BENCH",draftData.parentElement.children[1].setAttribute("data-pos","bench"),draftData.parentElement.children[1].setAttribute("data-manager",t.managerNum)):(n.firstElementChild.innerText=x[r].toUpperCase(),draftData.parentElement.children[1].setAttribute("data-pos",x[r]),draftData.parentElement.children[1].setAttribute("data-manager",t.managerNum))}},P=function(e,t){var r;return function(){var n=arguments,a=this;r||(e.apply(a,n),r=!0,setTimeout((function(){return r=!1}),t))}}}}]);
//# sourceMappingURL=bundle.js.map